// JS4-4. ë°°ì—´ì˜ ì •ë ¬ê³¼ ê²€ìƒ‰ JS

// DOMë©”ì„œë“œ
import dFn from "./dom.js";

// console.log(dFn);

/**************************************************************
    [ JS ë°°ì—´ì˜ ì •ë ¬ ]

    ìš©ì–´ì˜ ì •ì˜: ì •ë ¬ì´ë€?
        -> ë°°ì—´ì˜ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ìˆœì„œë¥¼ ë‹¤ì‹œ ì •í•˜ëŠ”ê²ƒ!
        -> ë°°ì—´ì˜ ì •ë ¬ì€ sort() ë©”ì„œë“œ ì‚¬ìš©!
    sort() ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ì˜ê°’ì„ ì˜¤ë¥¸ì°¨ìˆœ,ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ ì •ë ¬í•  ìˆ˜ ìˆìŒ!

    [ sort() ë©”ì„œë“œì˜ íŠ¹ì§• ]

    1. ê¸°ë³¸ì •ë ¬ : 
        ì˜¤ë¦„ì°¨ìˆœ(1,2,3,.../a,b,c,...) -> sort()
        ë‚´ë¦¼ì°¨ìˆœ ë©”ì„œë“œ -> reverse()
    2. ì›ë¦¬ : 
        ë°°ì—´ ê°’ì„ ë¬¸ìì—´ë¡œ ìºìŠ¤íŒ…(í˜• ë³€í™˜)í•œ í›„ ë³€í™˜ ëœ ë¬¸ìì—´ì„ ë¹„êµí•˜ì—¬ ìˆœì„œë¥¼ ê²°ì •í•¨
        (ì°¸ê³ : undefined ê°’ì¼ ê²½ìš° ë°°ì—´ ë§¨ë’¤ì— ë°°ì¹˜í•¨)
        ***ì£¼ì˜: ìˆ«ìë¥¼ ë¹„êµí•´ë„ ë¬¸ìì—´ë¡œ ë¹„êµí•¨
        "25"ì™€ "100"ì¤‘ í° ìˆ«ìëŠ” 100ì´ì§€ë§Œ ë¬¸ìí˜•ìœ¼ë¡œ ë¹„êµí•˜ì—¬ 
        ì•ìë¦¬ì¸ 1ê³¼ 2ë¥¼ ë¨¼ì € ë¹„êµí•˜ì—¬ "25"ë¥¼ ë” í¬ê²Œ ì •ë ¬í•¨

    [ sort() ë©”ì„œë“œ ë¹„êµí•¨ìˆ˜ ]

    -> sort() ë©”ì„œë“œ ë‚´ë¶€ì— 2ê°œì˜ ì „ë‹¬ê°’ì„ ê°€ì§€ëŠ” í•¨ìˆ˜ë¥¼ ì“°ë©´
    sortë©”ì„œë“œ ìì²´ì—ì„œ ê°’ì„ ë¹„êµí•˜ì—¬ ë°°ì—´ê°’ì˜ ìˆœì„œë¥¼ ë°”ê¾¼ë‹¤!
    -> ìˆ«ìì¼ ê²½ìš° ë¹¼ê¸° ì—°ì‚°ì„ í•¨
    ((ì˜¤ë¦„ì°¨ìˆœ))
    ë°°ì—´ë³€ìˆ˜.sort() -> ê¸°ë³¸ì •ë ¬
    ìˆ«ìë°ì´í„°ë°°ì—´.sort(function(a,b){return a-b;})
    ìˆ«ìë°ì´í„°ë°°ì—´.sort((a,b)=>a-b)
    ((ë‚´ë¦¼ì°¨ìˆœ))
    ë°°ì—´ë³€ìˆ˜.reverse() -> ê¸°ë³¸ì •ë ¬
    ìˆ«ìë°ì´í„°ë°°ì—´.sort(function(a,b){return b-a;})
    ìˆ«ìë°ì´í„°ë°°ì—´.sort((a,b)=>b-a)
    -> aëŠ” ì• ë°ì´í„°, bëŠ” ë’· ë°ì´í„°


    ->>> ìˆ«ìí˜•, ë¬¸ìí˜•ì— ë¬´ê´€í•˜ê²Œ ì²˜ë¦¬í•˜ê¸°
    [ sort() ë©”ì„œë“œë§Œ ì‚¬ìš©í•˜ì—¬ ì •ë ¬ì¡ê¸° ]

    (ë¹„êµí•¨ìˆ˜ì‚¬ìš©)
    ë°°ì—´ë³€ìˆ˜.sort(function(x,y){
        if(x>y) return 1;
        if(x<y) return -1;
        return 0;
    })
    
    -> ë‹¨ìˆœí™”í•˜ê¸°(ì‚¼í•­ì—°ì‚°ìì‚¬ìš©!)
    ë°°ì—´ë³€ìˆ˜.sort(function(x,y){
        return x == y ? 0 : x > y ? 1 : -1;
    })
    -> ë” ë‹¨ìˆœí™” í•˜ê¸°
    ë°°ì—´ë³€ìˆ˜.sort((x,y)=>x==y?0:x>y?1:-1);

    -> ë¦¬í„´ê°’ì˜ ì˜ë¯¸(ì˜¤ë¦„ì°¨ìˆœ)
    1) if(x>y) return 1; -> xê°€ yë’¤ì— ì˜´ (ë¦¬í„´ê°’ ì–‘ìˆ˜)
    2) if(x<y) return -1; -> xê°€ yì•ì— ì˜´ (ë¦¬í„´ê°’ ìŒìˆ˜)
    3) return 0; -> x,y ì •ë ¬ì„ ìœ ì§€ (ë¦¬í„´ê°’ 0)

    -> ë‚´ë¦¼ì°¨ìˆœì€ ì–‘ìˆ˜/ìŒìˆ˜ë§Œ ë°˜ëŒ€ë¡œ ì¨ì£¼ë©´ ëœë‹¤!

    [ ì •ë ¬ì‹œ ë°ì´í„° ìœ ì˜ì‚¬í•­ ]
    1. ë¬¸ìí˜•ì¼ ê²½ìš° ëŒ€ì†Œë¬¸ìê°€ ì„ì—¬ìˆìœ¼ë©´ ëŒ€ë¬¸ìë‚˜ ì†Œë¬¸ìì¤‘
    í•˜ë‚˜ë¡œ í†µì¼í•˜ì—¬ ë¹„êµí•´ì•¼í•¨(toUpperCase()/toLowerCase())
    ì˜ˆ)
    ë°°ì—´ë³€ìˆ˜.sort((x,y)=>{
        let a = x.toUpperCase(),
            b = y.toUpperCase();
        
        return a == b ? 0 : a > b ? 1 : -1;
    })

    2. ë‚ ì§œì •ë ¬ë„ ìˆ«ìì™€ ë™ì¼í•¨(ë‚ ì§œë°ì´í„° ìì²´ê°€ ìˆ«ìí˜•ìœ¼ë¡œ ë˜ì–´ìˆìŒ)

    3. íŠ¹ì •ì–¸ì–´ì˜ íŠ¹ìˆ˜ë¬¸ìì¼ ê²½ìš° localeCompare() ë©”ì„œë“œë¡œ 
    ë¬¸ìì—´ ë¹„êµë¥¼ í•œë‹¤!
    ì˜ˆ) íŠ¹ìˆ˜ë¬¸ì xë³€ìˆ˜ë¥¼ yë³€ìˆ˜ì™€ ë³€í™˜í›„ ë¹„êµ 
    x.localeCompare(y)

*************************************************************

    [ ë°°ì—´ì˜ ê²€ìƒ‰ : find() / filter() / indexOf() ]

    1. find() ë©”ì„œë“œ
    (1) ê²€ìƒ‰í›„ ì²«ë²ˆì§¸ ì¼ì¹˜ê°’ í•˜ë‚˜ë§Œì„ ë¦¬í„´
    (2) ê²°ê³¼ê°€ ì—†ìœ¼ë©´ undefined ë¦¬í„´(ifë¬¸ì—ì„œ falseì²˜ë¦¬!)
    (3) ì½œë°±í•¨ìˆ˜êµ¬ì„± : function(val,idx,obj){}
        1) val : ì²˜ë¦¬ì¤‘ ë°°ì—´ì˜ ê°’
        2) idx : ì²˜ë¦¬ì¤‘ ë°°ì—´ì˜ ìˆœë²ˆ
        3) obj : ì²˜ë¦¬ì¤‘ ë°°ì—´ì „ì²´
    (4) ë¦¬í„´ë°ì´í„° : ë°°ì—´ì˜ ê°’ í•˜ë‚˜(ê°’ì˜ ë°ì´í„°í˜•)
    (5) í™œìš©ì¼€ì´ìŠ¤ : ì•„ì´ë””ê²€ì‚¬ ê²°ê³¼ ë¦¬í„´
    (6) ì½”ë“œì˜ˆ :
        ë³€ìˆ˜ = ë°°ì—´.find(v=>{
            if(v[ì†ì„±ëª…].indexOf(ê²€ìƒ‰ì–´)!==-1) return true;
        })
        -> ë°°ì—´ì„ ìë™ìˆœíšŒí•˜ì—¬ ifë¬¸ì— í•´ë‹¹ë˜ëŠ” ë°ì´í„°ê°€ ìˆìœ¼ë©´
        return true í•˜ì—¬ í• ë‹¹ëœ ë³€ìˆ˜ì— ì €ì¥í•˜ê³  ë¬¸ì¥ì´ ë°”ë¡œ ëë‚œë‹¤!


    2. filter() ë©”ì„œë“œ
    (1) ê²€ìƒ‰í›„ ëª¨ë“  ì¼ì¹˜ê°’ì„ ë¦¬í„´
    (2) ê²°ê³¼ê°€ ì—†ìœ¼ë©´ ë¹ˆë°°ì—´ ë¦¬í„´([]->ë°°ì—´.length ê°’ì´ 0)
    (3) ì½œë°±í•¨ìˆ˜êµ¬ì„± : function(val,idx,obj){}
        1) val : ì²˜ë¦¬ì¤‘ ë°°ì—´ì˜ ê°’
        2) idx : ì²˜ë¦¬ì¤‘ ë°°ì—´ì˜ ìˆœë²ˆ
        3) obj : ì²˜ë¦¬ì¤‘ ë°°ì—´ì „ì²´
    (4) ë¦¬í„´ë°ì´í„° : ë°°ì—´í˜•ë°ì´í„°(í•˜ë‚˜ì—¬ë„ ë°°ì—´ê°’ìœ¼ë¡œ ë„˜ì–´ì˜´!)
    (5) í™œìš©ì¼€ì´ìŠ¤ : ê²€ìƒ‰ë¦¬ìŠ¤íŠ¸ ê²°ê³¼ ë¦¬í„´
    (6) ì½”ë“œì˜ˆ :
        ë³€ìˆ˜ = ë°°ì—´.filter(v=>{
            if(v[ì†ì„±ëª…].indexOf(ê²€ìƒ‰ì–´)!==-1) return true;
        })
        -> ë°°ì—´ì„ ìë™ìˆœíšŒí•˜ì—¬ ifë¬¸ì— í•´ë‹¹ë˜ëŠ” ë°ì´í„°ê°€ ìˆìœ¼ë©´
        return true í•˜ì—¬ ë‹¤ë¥¸ê°’ì´ ê³„ì† ë‚˜ì˜¬ë•Œê¹Œì§€ ë°°ì—´ë¡œ ê°’ì„
        í• ë‹¹ë³€ìˆ˜ì— ì €ì¥í•œë‹¤!(ë°°ì—´ì„ ì „ì²´ìˆœíšŒí•¨!)

    3. LIKE ê²€ìƒ‰ë°©ë²• : ê°’ì˜ ì¼ë¶€ë§Œ ë„£ì–´ë„ ê²€ìƒ‰ë˜ëŠ” ë°©ë²•
    -> indexOf(ê°’) ì„ ì‚¬ìš©í•¨!
    ê²°ê³¼ê°’ìœ¼ë¡œ ë¬¸ìì—´ì˜ ìœ„ì¹˜ìˆœë²ˆì„ ë¦¬í„´í•˜ëŠ”ë°
    ë§Œì•½ ì—†ìœ¼ë©´ -1ì„ ë¦¬í„´í•˜ë¯€ë¡œ ì´ê²ƒì„ ì´ìš©í•˜ì—¬ 
    ì¡°ê±´ë¬¸ì— -1ì´ ì•„ë‹Œê²½ìš°ê°€ ê²€ìƒ‰ê²°ê³¼ê°€ ìˆëŠ” ê²½ìš°ê°€ ë¨!
    ì˜ˆ) 
    if(ë¬¸ìì—´.indexOf(ê²€ìƒ‰ë¬¸ìì—´)!==-1){ê²°ê³¼ë¦¬í„´}

**************************************************************/


// ìˆ«ìê°’ ë°°ì—´
// const arrNum = [4, 5, 8, 10, 2, 1, 9, 3, 7, 6, 4, 5, 8, 10, 2, 1, 9, 3, 7, 6, 4, 5, 8, 10, 2, 1, 9, 3, 7, 6];
const arrNum = [4, 5, 8, 10, 2, 1, 9, 3, 7, 6];
// ë¬¸ìê°’ ë°°ì—´
const arrStr = ["íŒŒ", "íƒ€", "í•˜", "ê°€", "ë°”", "ì‚¬", "ë‹¤", "ë¼", "ì°¨"];

// console.log(arrNum,"ìˆ«ìë°°ì—´ì •ë ¬",arrNum.sort(),arrStr,"ë¬¸ìë°°ì—´ì •ë ¬",arrStr.sort());
// console.log(arrNum,"ìˆ«ìë°°ì—´ì •ë ¬",arrNum.reverse(),arrStr,"ë¬¸ìë°°ì—´ì •ë ¬",arrStr.reverse());

//////////////////////////////////////////////////////////
//// ë°°ì—´ë°ì´í„° í™”ë©´ ì¶œë ¥í•˜ê¸° /////////////////////////////
// 1. ìˆ«ìë°°ì—´ì˜ í™”ë©´ ë¿Œë¦¬ê¸° -> map()ìœ¼ë¡œ íƒœê·¸ê°ì‹¸ê¸° ///////
// (1) ëŒ€ìƒì„ ì • : .showNum
const showNum = dFn.qs('.showNum');
// (2) ë°°ì—´ ìˆ«ì ë°ì´í„°ë§Œí¼ ì´ë¯¸ì§€ë¡œ ë³€í™˜í•˜ì—¬ ì¶œë ¥
// showScreenì— í•¨ìˆ˜ í• ë‹¹
const showScreen = () => showNum.innerHTML = arrNum.map(val=>`<img src="./images/num/num_0${val}.png" alt="ìˆ«ì${val}ì´ë¯¸ì§€">`).join('');

// ìµœì´ˆì¶œë ¥
showScreen();

// í—·ê°ˆë¦¬ë©´ ì°¸ê³ í•˜ì„¸ìš”!!!!!

// let count = 0;
// arrNum.sort((a,b)=>{
//     console.log('a:',a,'b:',b,'count: ',count);
//     // console.log('a>b?',a>b,'returnê°’ :',a == b ? 0 : a > b ? 1 : -1);
//     console.log('a==b?',a==b,'a>b?',a>b,'returnê°’ :',a == b ? 0 : a > b ? 1 : -1);
//     count++;
//     return a == b ? 0 : a > b ? 1 : -1;
// });

// (3) ì •ë ¬ ê¸°ì¤€ì— ë”°ë¼ ì„ íƒë°•ìŠ¤ ë³€ê²½ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì •ë ¬ ë³€ê²½í•˜ê¸°(ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ)
//  a. ë³€ê²½ëŒ€ìƒ: #sel
const selBox = dFn.qs('#sel');
//  b. ì´ë²¤íŠ¸ ì—°ê²°í•˜ê¸°: ì¢…ë¥˜ - change
dFn.addEvt(selBox,'change',function(){
    // ã„±. ì„ íƒì˜µì…˜ valueê°’ ì½ì–´ì˜¤ê¸°
    let optVal = this.value;
    console.log('ìˆ«ì ì •ë ¬ë³€ê²½:', optVal);
    // ã„´. ì •ë ¬ ë¶„ê¸°í•˜ê¸° : 1 - ì˜¤ë¦„ì°¨ìˆœ, 2 - ë‚´ë¦¼ì°¨ìˆœ
    if(optVal==1){ // ì˜¤ë¦„ì°¨ìˆœ
        //sort() ë¹¼ê¸°ì—°ì‚° ì²˜ë¦¬ : ì•ìˆ˜-ë’·ìˆ˜
        // arrNum.sort((a,b)=>a-b);
        arrNum.sort((a,b)=>a==b?0:a>b?1:-1);
    }else if(optVal==2){ // ë‚´ë¦¼ì°¨ìˆœ
        //sort() ë¹¼ê¸°ì—°ì‚° ì²˜ë¦¬ : ë’·ìˆ˜-ì•ìˆ˜
        // arrNum.sort((a,b)=>b-a);
        arrNum.sort((a,b)=>a==b?0:a>b?-1:1);
    } //////// else if /////////////

    // í™”ë©´ì¶œë ¥ -> ì›ë³¸ ë°°ì—´ì˜ ì •ë ¬ì´ ë³€ê²½ ë¨
    showScreen();
}); ///////changeì´ë²¤íŠ¸ í•¨ìˆ˜//////////////

/////////////////////////////////////////////////////////
// 2. ë¬¸ìë°°ì—´ì˜ í™”ë©´ ë¿Œë¦¬ê¸° -> map()ìœ¼ë¡œ íƒœê·¸ê°ì‹¸ê¸° ///////
// (1) ëŒ€ìƒì„ ì • : .showNum2
const showNum2 = dFn.qs('.showNum2');
// (2) ë°°ì—´ ìˆ«ì ë°ì´í„°ë§Œí¼ ì´ë¯¸ì§€ë¡œ ë³€í™˜í•˜ì—¬ ì¶œë ¥
// showScreenì— í•¨ìˆ˜ í• ë‹¹
const showScreen2 = () => showNum2.innerHTML = arrStr.map(val=>`<span>${val}</span>`).join('');

// ìµœì´ˆì¶œë ¥
showScreen2();

// (3) ì •ë ¬ ê¸°ì¤€ì— ë”°ë¼ ì„ íƒë°•ìŠ¤ ë³€ê²½ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì •ë ¬ ë³€ê²½í•˜ê¸°(ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ)
//  a. ë³€ê²½ëŒ€ìƒ: #sel2
const selBox2 = dFn.qs('#sel2');
//  b. ì´ë²¤íŠ¸ ì—°ê²°í•˜ê¸°: ì¢…ë¥˜ - change
dFn.addEvt(selBox2,'change',function(){
    // ã„±. ì„ íƒì˜µì…˜ valueê°’ ì½ì–´ì˜¤ê¸°
    let optVal = this.value;
    console.log('ë¬¸ì ì •ë ¬ë³€ê²½:', optVal);
    // ã„´. ì •ë ¬ ë¶„ê¸°í•˜ê¸° : 1 - ì˜¤ë¦„ì°¨ìˆœ, 2 - ë‚´ë¦¼ì°¨ìˆœ
    if(optVal==1){ // ì˜¤ë¦„ì°¨ìˆœ
        // sort()ë©”ì„œë“œ ë‚´ë¶€í•¨ìˆ˜ ì‚¬ìš©ë²•
        arrStr.sort((a,b)=>a==b?0:a>b?1:-1);
        // a==b 0 ë¦¬í„´ -> ê·¸ëŒ€ë¡œ
        // a>bì¼ ë•Œ trueì´ë©´ 1 ë¦¬í„´ -> ìˆœì„œë°”ê¿ˆ
        
        // ì˜¤ë¦„ì°¨ìˆœ ê¸°ë³¸ ë©”ì„œë“œ : arrStr.sort();
        // arrStr.sort();
    }else if(optVal==2){ // ë‚´ë¦¼ì°¨ìˆœ
        arrStr.sort((a,b)=>a==b?0:a>b?-1:1);
        // a>bì¼ ë•Œ trueì´ë©´ -1 ë¦¬í„´ -> ìˆœì„œì•ˆë°”ê¿ˆ

        // ë‚´ë¦¼ì°¨ìˆœ ê¸°ë³¸ ë©”ì„œë“œ : arrStr.reverse();
        // arrStr.reverse();
    } //////// else if /////////////

    // í™”ë©´ì¶œë ¥ -> ì›ë³¸ ë°°ì—´ì˜ ì •ë ¬ì´ ë³€ê²½ ë¨
    showScreen2();
}); ///////changeì´ë²¤íŠ¸ í•¨ìˆ˜//////////////

/////////////////////////////////////////////////
// 3. ê°ì²´ ë°ì´í„° ë°°ì—´ì˜ ì •ë ¬ ////////////////////

// 1) ê°ì²´ë°ì´í„°ë°°ì—´
const list1 = [
    {
        idx: 8,
        tit: "ë‚˜ëŠ” ëˆ„êµ¬?",
        cont: "ê³µë™êµ¬ë§¤) ìŠ¬ë¡œê±´ ê³µêµ¬ (ê³„ì¢Œì™€ ë„¤ì´ë²„í¼)",
    },
    {
        idx: 4,
        tit: "ì—¬ê¸°ëŠ” ì–´ë””?",
        cont: "ì´ê³µ ê³µì§€] ì˜¤ëŠ˜ë¶€í„° ì¼ 2íšŒ, ì´ê³µ ì§„í–‰í•©ë‹ˆë‹¤",
    },
    {
        idx: 1,
        tit: "ë‚˜ì•¼ë‚˜",
        cont: "ì—°í•© ê°ˆë¼ ì„œí¬íŠ¸ ê³„ì¢Œì˜¤í”ˆ",
    },
    {
        idx: 15,
        tit: "ì´ì œ ì–¼ë§ˆë‚˜ ë‚¨ì€ê±°ë‹ˆ?",
        cont: "ìŒì•…í”„ë¡œê·¸ë¨ì— ì¶œì—° ìš”ì²­ê¸€ë„ ì¨ë³¼ê¹Œìš”?",
    },
    {
        idx: 12,
        tit: "ì›°ì‹œì½”ê¸°ì˜ ê·€ì—¬ì›€ì— ëŒ€í•˜ì—¬",
        cont: "í„¸ì´ í­ì‹ í­ì‹  ë„ˆë¬´ ê·€ì—¬ì›Œìš”",
    },
    {
        idx: 3,
        tit: "ì˜¤ëŠ˜ì˜ ëŸ°ë°ì´ì¼ì •",
        cont: "ì„œìš¸ìˆ² 7ë²ˆì¶œêµ¬ ì„ ì°©ìˆœ 20ëª…ë§Œ ì°¸ì„ê°€ëŠ¥í•©ë‹ˆë‹¤.",
    },
]; /////////////// list1 /////////////

// 2) html ì½”ë“œ ìƒì„±í•˜ì—¬ ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ ë§Œë“¤ê¸°
// upCodeí•¨ìˆ˜ë¥¼ ê³µí†µìœ¼ë¡œ íŒŒë¼ë¯¸í„° ì²˜ë¦¬í•˜ê¸°
const upCode = (data,exBox) => {
    // data - ê°ì²´ë°ì´í„° ë°°ì—´
    // exBox - ì¶œë ¥ë°•ìŠ¤
    // ë°˜ë³µì½”ë“œ ë§Œë“¤ê¸°
    // ëŒ€ìƒì½”ë“œ : ìœ„ì—ìˆëŠ” list1 ë°°ì—´
    let hcode = data.map(val=>`
        <tr>
            <td>${val.idx}</td>
            <td>${val.tit}</td>
            <td>${val.cont}</td>
        </tr>
    `).join('');
    // console.log(hcode);
    // í…Œì´ë¸” ìƒì„±ì½”ë“œ ë„£ê¸°
    exBox.innerHTML = `
        <table>
            <thead>
                <tr>
                    <th>ë²ˆí˜¸</th>
                    <th>ì œëª©</th>
                    <th>ë‚´ìš©</th>
                </tr>
            </thead>
            <tbody>
                ${hcode}
            </tbody>
        </table>
    `;
}; /////////upCodeí•¨ìˆ˜/////////////////

// 3) ìš”ì†Œì— ë°ì´í„° ì½”ë“œ ë„£ê¸°
// ëŒ€ìƒ : .showList3
const showList3 = dFn.qs('.showList3');
// ê¸°ë³¸ í…Œì´ë¸” ëª¨ì–‘ ë„£ê¸°
upCode(list1,showList3);

// 4) ì •ë ¬ë³€ê²½ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ ì‹¤ì œ ì •ë ¬ ë³€ê²½í•˜ê¸°
// ì´ë²¤íŠ¸ ëŒ€ìƒ: .sel3(ì •ë ¬ì˜µì…˜) .cta3(ì •ë ¬ê¸°ì¤€)
const sel3 = dFn.qs('.sel3');
const cta3 = dFn.qs('.cta3');
// ì •ë ¬ë³€ê²½í•¨ìˆ˜ì˜ ë°ì´í„° ë° ì¶œë ¥ìš”ì†Œ ì…‹íŒ…ë³€ìˆ˜
let targetData = list1;
// let targetEle = showList3;

// ì´ë²¤íŠ¸ ë“±ë¡
dFn.addEvt(sel3,'change',()=>{
    targetData = list1;
    // targetEle = showList3;
});
dFn.addEvt(sel3,'change',sortingFn);
dFn.addEvt(cta3,'change',()=>{
    targetData = list1;
});
dFn.addEvt(cta3,'change',sortingFn);

// ì•ì—ìˆëŠ” í˜•ì œìš”ì†Œ ì„ íƒ
// this.previousElementSibling
// this.nextElementSibling

// ì •ë ¬ë³€ê²½ í•¨ìˆ˜ ë§Œë“¤ê¸°
function sortingFn(){
    // 1. ì„ íƒê°’ ë‹´ê¸° : selectë³€ê²½ ê°’
    let optVal = this.value;
    // console.log('ì•ì— ëˆ„êµ¬?',this.previousElementSibling); // ì˜µì…˜ ë³€ê²½ ì‹œ null | ì •ë ¬ë³€ê²½ ì‹œ ì˜µì…˜
    // console.log('ë’¤ì— ëˆ„êµ¬?',this.nextElementSibling); // ì˜µì…˜ ë³€ê²½ ì‹œ ì •ë ¬ | ì •ë ¬ë³€ê²½ ì‹œ null
    // console.log(this,'ë°”ê¿”',isNaN(this.value),sel3.value);
    // console.log(this.parentNode.nextElementSibling);
    // 2. ë¶„ê¸°í•˜ê¸°
    if(isNaN(optVal) && this.nextElementSibling.value!=0){ // ì •ë ¬ì´ ì„ íƒ ëœ ìƒíƒœì—ì„œ ì˜µì…˜ ë³€ê²½
        // ì •ë ¬ ê¸°ì¤€ ì½ê¸°
        let otherOpt = this.nextElementSibling.value;
        // ì •ë ¬ ê¸°ì¤€ìœ¼ë¡œ ë¶„ê¸°(otherOpt)
        if(otherOpt==1){ //ì˜¤ë¦„ì°¨ìˆœ
            targetData.sort((a,b)=>{
                // a,bëŠ” ëª¨ë‘ ê°ì²´ë°ì´í„° 
                // ë”°ë¼ì„œ ë‚´ë¶€ ì†ì„±ì„ êµ¬ì²´ì ìœ¼ë¡œ ë¹„êµí•„ìš”
                // ì •ë ¬ì˜µì…˜ì´ optValì— ë‹´ê¸°ë¯€ë¡œ í•´ë‹¹ìœ¼ë¡œ ë°ì´í„° ì½ì–´ì˜¤ê¸°
                return a[optVal]==b[optVal]?0:a[optVal]>b[optVal]?1:-1;
            });
        }else{ // ë‚´ë¦¼ì°¨ìˆœ
            targetData.sort((a,b)=>{
                return a[optVal]==b[optVal]?0:a[optVal]>b[optVal]?-1:1;
            });
        }
    }else if(!isNaN(optVal)){ // ì˜µì…˜ì´ ì„ íƒ ëœ ìƒíƒœì—ì„œ ì •ë ¬ ë³€ê²½
        // ì •ë ¬ì˜µì…˜ ì½ê¸°
        let otherOpt = this.previousElementSibling.value;
        // ì •ë ¬ ê¸°ì¤€ìœ¼ë¡œ ë¶„ê¸°(optVal)
        if(optVal==1){ //ì˜¤ë¦„ì°¨ìˆœ
            targetData.sort((a,b)=>{
                // a,bëŠ” ëª¨ë‘ ê°ì²´ë°ì´í„° 
                // ë”°ë¼ì„œ ë‚´ë¶€ ì†ì„±ì„ êµ¬ì²´ì ìœ¼ë¡œ ë¹„êµí•„ìš”
                // ì •ë ¬ì˜µì…˜ì´ otherOptì— ë‹´ê¸°ë¯€ë¡œ í•´ë‹¹ê°’ìœ¼ë¡œ ë°ì´í„° ì½ì–´ì˜¤ê¸°
                return a[otherOpt]==b[otherOpt]?0:a[otherOpt]>b[otherOpt]?1:-1;
            });
        }else{ // ë‚´ë¦¼ì°¨ìˆœ
            targetData.sort((a,b)=>{
                return a[otherOpt]==b[otherOpt]?0:a[otherOpt]>b[otherOpt]?-1:1;
            });
        }
    }/////////else if///////////////
    // ì •ë ¬ ì„ íƒ ì œì–´ë¬¸(ê²€ìƒ‰ê¸°ëŠ¥ë•Œë¬¸ì— ì‚­ì œ)
    // else{ // ì •ë ¬ì´ ì„ íƒ ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì˜µì…˜ ë³€ê²½
    //     alert('ì •ë ¬ì„ ì„ íƒí•´ì£¼ì„¸ìš”!!');
    // }
    // ë¦¬ìŠ¤íŠ¸ ì½”ë“œ ë°˜ì˜í•˜ê¸°
    upCode(targetData,this.parentNode.nextElementSibling);
} //////////////sortingFní•¨ìˆ˜////////////

/////////////////////////////////////////////////
// 4. ê°ì²´ë°ì´í„° ê²€ìƒ‰í›„ ë°°ì—´ì˜ ì •ë ¬ğŸ” /////////////


// (1) ì¶œë ¥ëŒ€ìƒ: .showList4
const showList4 = dFn.qs('.showList4');

// (2) ë³€ê²½ëŒ€ìƒ ì„ ì •: .sel4(ì •ë ¬ì˜µì…˜) .cta4(ì •ë ¬ê¸°ì¤€)
const sel4 = dFn.qs('.sel4');
const cta4 = dFn.qs('.cta4');
// (3) ë°ì´í„° : ê°ì²´ ë°ì´í„° ë°°ì—´
const list2 = [
    {
        idx: 105,
        tit: "ë‹¹ê·¼ë§ˆì¼“ì— ê°€ì",
        cont: "ë‹¹ê·¼ë§ˆì¼“ì—ì„œ ì‹¸ê²Œ ì‚¬ê³ ì‹¶ì–´!",
    },
    {
        idx: 22,
        tit: "ë‹¹ê·¼ë§ˆì¼“ì— ê°€ì",
        cont: "ë‹¹ê·¼ë§ˆì¼“ì´ ì •ë§ë¡œ ì‹¸ê³  ì¢‹ë‹¤êµ¬~!",
    },
    {
        idx: 74,
        tit: "ì ì‹¬ì— ë­ë¨¹ì§€? ë‹¹ê·¼ìŠ¤í”„~",
        cont: "ì˜¤ìŠ¤í‹´ë‹˜ ìƒì¼ ì„œí¬íŠ¸ ì•ˆë‚´",
    },
    {
        idx: 18,
        tit: "ì§ëŒì´ëŠ” ì‰¬ê³ ì‹¶ë‹¤~!",
        cont: "í™œë™ì •ì§€ì— ëŒ€í•œ íŒŒìƒê¸€ ë¬´í†µë³´ ì‚­ì œ ë° ê²½ê³ ",
    },
    {
        idx: 104,
        tit: "ì˜¬í•´ëŠ” ë‹¤ë¥¸ íšŒì‚¬ë¡œ ì´ì§í•œë‹¤!",
        cont: "âšœï¸ê°ˆë¼ì½˜ ì„œí¬íŠ¸ì— ë§ì€ ì°¸ì—¬ ë¶€íƒë“œë¦½ë‹ˆë‹¤!",
    },
]; /////////////// list2 /////////////  

// ê²€ìƒ‰ ì •ë ¬ìš© ë³€ìˆ˜ -> ê²€ìƒ‰ ì‹œ newList ì—…ë°ì´íŠ¸ 
let newList = list2;

// console.log(showList4,list2);
// (4) upCode í•¨ìˆ˜ë¡œ í˜ì´ì§€ ìµœì´ˆ ì°ê¸°
upCode(list2,showList4);

// (5) ì´ë²¤íŠ¸ ë“±ë¡ : ì‹¤ì œ ì •ë ¬ ë³€ê²½í•˜ê¸°
dFn.addEvt(sel4,'change',()=>{
    // ì •ë ¬ìš© ë°ì´í„°ëŠ” ì›ë³¸ë°ì´í„°ê°€ ì•„ë‹Œ ê²€ìƒ‰ìœ¼ë¡œ ë°”ë€ ë°ì´í„° ì—…ë°ì´íŠ¸
    targetData = newList;
});
dFn.addEvt(sel4,'change',sortingFn);
dFn.addEvt(cta4,'change',()=>{
    // ì •ë ¬ìš© ë°ì´í„°ëŠ” ì›ë³¸ë°ì´í„°ê°€ ì•„ë‹Œ ê²€ìƒ‰ìœ¼ë¡œ ë°”ë€ ë°ì´í„° ì—…ë°ì´íŠ¸
    targetData = newList;
});
dFn.addEvt(cta4,'change',sortingFn);

// (6) ê²€ìƒ‰ê¸°ëŠ¥ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ì„¤ì •

// (6-1) ì´ë²¤íŠ¸ ëŒ€ìƒ : .sbtn
dFn.addEvt(dFn.qs('.sbtn'),'click',searchingFn);

// (7) ê²€ìƒ‰í•¨ìˆ˜ ë§Œë“¤ê¸° 
function searchingFn(){
    // (7-1) ê²€ìƒ‰ì–´ ì½ì–´ì˜¤ê¸°
    // ëŒ€ìƒ : #stxt
    let stxt = dFn.qs('#stxt').value;
    // (7-2) ê²€ìƒ‰ ê¸°ì¤€ ì½ì–´ì˜¤ê¸°
    // ëŒ€ìƒ : .cta4 -> cta4
    let ctaVal = cta4.value;
    
    console.log('ì…ë ¥ë¬¸ì:',stxt,'ê²€ìƒ‰ê¸°ì¤€:',ctaVal);

    // (7-3) filter()ë¡œ LIKEê²€ìƒ‰í•˜ê¸° : ë‹¤ì¤‘ê°’ ë¦¬í„´
    // filter() + indexOf()
    let res = list2.filter(v=>{
        // v[ê°ì²´ì†ì„±ëª…] -> ctaê°€ ë³€ìˆ˜ì„ .ìœ¼ë¡œ ì ‘ê·¼ ë¶ˆê°€
        // indexOf(ê²€ìƒ‰ì–´)
        // ìˆ«ìí˜• ë°ì´í„°ì¼ ê²½ìš° ì—ëŸ¬ë°œìƒ
        if(String(v[ctaVal]).indexOf(stxt)!=-1)return true;
    }); ////////filter///////////
    // (7-4) ì¶œë ¥í•˜ê¸°
    upCode(res,showList4);
    // ê²€ìƒ‰ ê²°ê³¼ë¥¼ list2 ì›ë³¸ë°ì´í„°ì— í• ë‹¹í•˜ë©´
    // list2 = res; //list2ê°€ constí˜•ì´ì—¬ì„œ í• ë‹¹ ì•ˆë¨

    // (7-5) ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì—¬ ê·¸ ë³€ìˆ˜ì˜ ê°’ì„ ì—…ë°ì´íŠ¸ í•˜ê¸°
    // ë‹¨, ë³€ìˆ˜ëŠ” ì •ë ¬ì‹œì— ì‚¬ìš©í•˜ë„ë¡ í•œë‹¤.
    newList = res;
} //////////searchingFn í•¨ìˆ˜ ////////////////

// (8) ì „ì²´ ë¦¬ìŠ¤íŠ¸ ëŒì•„ê°€ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ê¸°ëŠ¥êµ¬í˜„ //////////
// ëŒ€ìƒ : ì „ì²´ ë¦¬ìŠ¤íŠ¸ .fbtn
dFn.addEvt(dFn.qs('.fbtn'),'click',initSearch); ///////// fbtn clickì´ë²¤íŠ¸ ///////////

// ì´ˆê¸°í™” í•¨ìˆ˜ : ê²€ìƒ‰ ì„ íƒë°•ìŠ¤ ì´ˆê¸°í™”
function initSearch(){
    // (8-1)ì›ë³¸ë¦¬ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
    newList = list2;
    // (8-2)ì¶œë ¥í•˜ê¸°
    upCode(newList, showList4);
    // (8-3)ê²€ìƒ‰ì–´ ì´ˆê¸°í™”
    dFn.qs('#stxt').value = '';
    // (8-4)ê²€ìƒ‰ì–´ ê¸°ì¤€ì„ íƒ ì´ˆê¸°í™”
    sel4.value='0';
    // (8-5)ì •ë ¬ ì´ˆê¸°í™”
    cta4.value='idx';

} ////////////initSearch í•¨ìˆ˜ //////////////

// ìƒ˜í”Œ ë²„íŠ¼ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê²€ìƒ‰ í•œ ê²°ê³¼ë¥¼ ì½˜ì†”ì— ì°ì–´ì£¼ê¸°
dFn.addEvt(dFn.qs('.sample'),'click',()=>{
    // 1. find() ë©”ì„œë“œ í™•ì¸í•˜ê¸° : ë°ì´í„° ì •í™•íˆ ì¼ì¹˜ í•´ì•¼í•¨
    let res1 = list2.find(v=>{
        if(v.tit == 'ë‹¹ê·¼ë§ˆì¼“ì— ê°€ì') return true;
        // ë°ì´í„°ê°€ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í•˜ë©´ ë°°ì—´ì˜ ê°’ì„ ë¦¬í„´í•¨!!
        // if(v.tit == 'ë‹¹ê·¼ë§ˆì¼“ì—ê°€ì') return true; 
        // ë°ì´í„°ê°€ ì™„ë²½í•˜ê²Œ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ undefined
    }); ////////find
    console.log('ê²€ìƒ‰ì–´:"ë‹¹ê·¼ë§ˆì¼“ì— ê°€ì"\nê²°ê³¼:',res1);

    // 2. find() ë©”ì„œë“œ LIKE ê²€ìƒ‰í•˜ê¸° : ë°ì´í„° ì¼ë¶€ë§Œ ì¼ì¹˜í•´ë„ ì°¾ê¸°
    // indexOf() ê²°ê³¼ê°€ -1ì´ ì•„ë‹ˆë©´ ë‚´ìš©ì´ ìˆìœ¼ë¯€ë¡œ ì²˜ë¦¬
    // find() ì˜ íŠ¹ì„±ìƒ ì²˜ìŒ ë§Œë‚˜ëŠ” ë°ì´í„° í•˜ë‚˜ë§Œ ë¦¬í„´
    let res2 = list2.find(v=>{
        if(v.tit.indexOf('ë‹¤')!=-1) return true;
        // ë°ì´í„°ì— 'ë‹¤'ê°€ ìˆìœ¼ë©´ ë¦¬í„´
    }); ////////find
    console.log('ê²€ìƒ‰ì–´:"ë‹¤"\nê²°ê³¼:',res2);
    
    // 3. filter() ë©”ì„œë“œ LIKE ê²€ìƒ‰í•˜ê¸°
    // filter()ëŠ” í•´ë‹¹ ê²°ê³¼ë¥¼ ë°°ì—´ë¡œ ë¦¬í„´í•¨!!!!
    let res3 = list2.filter(v=>{
        // if(v.tit.indexOf('ë„í† ë¦¬')!=-1) return true;
        // ë°ì´í„°ì— ê²€ìƒ‰ê²°ê³¼ê°€ ì—†ìœ¼ë©´ []ì´ ë¦¬í„´, ë°°ì—´.length==0
        if(v.tit.indexOf('ë‹¹ê·¼')!=-1) return true;
        // ë°ì´í„°ì— 'ë‹¹ê·¼'ì´ ìˆìœ¼ë©´ ë¦¬í„´
    }); ////filter
    console.log('ê²€ìƒ‰ì–´:"ë„í† ë¦¬"fliterê²€ìƒ‰ \nê²°ê³¼:',res3);
}); //////////sample ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸ ///////////////
